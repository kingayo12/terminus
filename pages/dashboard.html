<!-- pages/dashboard.html -->
<div class="dashboard_page scrollpage">

    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Breadcrumb">
        <ol>
            <li><a href="#" class="crumb">Dashboard</a></li>
            <li aria-current="page" class="crumb current">Overview</li>
        </ol>
        <button class="btn animate__animated animate__fadeInRight" id="openPrefBtn" style="animation-delay: .4s;">
            <i class="fa fa-gear"></i>
        </button>


    </nav>

    <!-- Cards -->
    <section class="cards_container">
        <article class="card animate__animated animate__fadeInUp" style="animation-delay: 0s;" data-pref="todayGateIn"
            data-pref-label="Today's Gate-In">
            <div class="card_icon bg-primary">
                <i class="fa-solid fa-door-open"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Today's Gate-In</div>
                <div class="card_value">42</div>
                <div class="card_meta">Updated: 10 mins ago</div>
            </div>
        </article>

        <article class="card animate__animated animate__fadeInUp" style="animation-delay: .08s;"
            data-pref="YardStockbyTEUs" data-pref-label="Yard Stock by TEUs">
            <div class="card_icon bg-success">
                <i class="fa-solid fa-boxes-stacked"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Yard Stock by TEUs</div>
                <div class="card_value">138</div>
                <div class="card_meta">Total Capacity: 80%</div>
            </div>
        </article>

        <article class="card animate__animated animate__fadeInUp" style="animation-delay: .16s;" data-pref="GateInToday"
            data-pref-label="Gate-In Today">
            <div class="card_icon bg-info">
                <i class="fa-solid fa-truck-ramp-box"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Gate-In Today</div>
                <div class="card_value">63</div>
                <div class="card_meta">Containers processed</div>
            </div>
        </article>

        <article class="card animate__animated animate__fadeInUp" style="animation-delay: .24s;"
            data-pref="GateOutToday" data-pref-label="Gate-Out Today">
            <div class="card_icon bg-warning-dark">
                <i class="fa-solid fa-truck-fast"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Gate-Out Today</div>
                <div class="card_value">51</div>
                <div class="card_meta">Containers released</div>
            </div>
        </article>

        <article class="card animate__animated animate__fadeInUp" style="animation-delay: .32s;" data-pref="checkIn"
            data-pref-label="Check-In (L.Month)">
            <div class="card_icon bg-info">
                <i class="fa-solid fa-calendar-check"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Check-In (L.Month)</div>
                <div class="card_value">312</div>
                <div class="card_meta">Compared to 286 in Sept</div>
            </div>
        </article>

        <article class="card animate__animated animate__fadeInUp" style="animation-delay: .4s;" data-pref="checkOut"
            data-pref-label="Check-Out (L.Month)">
            <div class="card_icon bg-error">
                <i class="fa-solid fa-calendar-minus"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Check-Out (L.Month)</div>
                <div class="card_value">287</div>
                <div class="card_meta">+4% vs previous month</div>
            </div>
        </article>

        <article class="card animate__animated animate__fadeInUp" style="animation-delay: .48s;"
            data-pref="PendingInvoices" data-pref-label="Pending Invoices">
            <div class="card_icon bg-warning-dark">
                <i class="fa-solid fa-file-invoice-dollar"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Pending Invoices</div>
                <div class="card_value">19</div>
                <div class="card_meta">Total value: ₦12.4M</div>
            </div>
        </article>

        <article class="card animate__animated animate__fadeInUp" style="animation-delay: .56s;"
            data-pref="ContainersinYard" data-pref-label="Containers in Yard">
            <div class="card_icon bg-success">
                <i class="fa-solid fa-warehouse"></i>
            </div>
            <div class="card_body">
                <div class="card_title">Containers in Yard</div>
                <div class="card_value">204</div>
                <div class="card_meta">Currently stocked</div>
            </div>
        </article>
    </section>

    <div id="breakdown-popup" class="cps-modal-overlay">
        <div class="cps-modal-content">

            <button class="cps-close-btn">&times;</button>

            <div class="cps-modal-flex">

                <!-- Sidebar -->
                <aside class="cps-modal-sidebar">
                    <h3>Dashboard Metrics</h3>
                    <div id="modal-card-toggles" class="cps-sidebar-cards-wrapper"></div>
                </aside>

                <!-- Main Area -->
                <main class="cps-modal-main">
                    <div id="breakdown-title" class="cps-modal-header">Detailed Breakdown</div>
                    <div id="breakdown-table-container" class="cps-modal-body">
                        <p>Click a metric card on the left to see the breakdown.</p>
                    </div>
                </main>

            </div>
        </div>
    </div>


    <!-- Secondary row: larger summary + recent activities -->
    <section class="secondary_row">
        <div class="summary_card animate__animated animate__fadeInLeft" style="animation-delay: .32s;"
            data-pref="TodaysSnapshot" data-pref-label="Today’s Snapshot">
            <h3 class="summary_title">Today’s Snapshot</h3>

            <div class="summary_stats">
                <div class="stat">
                    <div class="stat_label">In Gate (Laden)</div>
                    <div class="stat_value">48</div>
                </div>
                <div class="divider"></div>
                <div class="stat">
                    <div class="stat_label">Out Gate (Empty)</div>
                    <div class="stat_value">21</div>
                </div>
                <div class="divider"></div>
                <div class="stat">
                    <div class="stat_label">Avg Turnaround</div>
                    <div class="stat_value">2h 14m</div>
                </div>
            </div>

            <!-- Chart area -->
            <div class="chart_container" style="margin-top: 18px;">
                <canvas class="chart" data-type="bar" data-label="Today'"
                    data-labels='["Gate In","Gate Out","Turnaround"]' data-data='[48,21,14]'>
                </canvas>


            </div>
        </div>


        <aside class="activities_card animate__animated animate__fadeInRight" style="animation-delay: .4s;">
            <div class="activities_header">
                <h3>Recent Activities</h3>
                <a href="#" class="view_all">View all</a>
            </div>

            <ul class="activities_list">
                <li>
                    <span class="dot dot-green" aria-hidden="true"></span>
                    <div class="act_text">
                        <div class="act_main">Truck <strong>#TX2145</strong> entered gate</div>
                        <div class="act_sub">12:14 PM — Gate A</div>
                    </div>
                </li>

                <li>
                    <span class="dot dot-yellow" aria-hidden="true"></span>
                    <div class="act_text">
                        <div class="act_main">Invoice <strong>#INV004</strong> pending approval</div>
                        <div class="act_sub">Finance team notified</div>
                    </div>
                </li>

                <li>
                    <span class="dot dot-blue" aria-hidden="true"></span>
                    <div class="act_text">
                        <div class="act_main">Vessel <strong>MV Horizon</strong> docked at Quay 3</div>
                        <div class="act_sub">ETA 11:00 AM — Unloading</div>
                    </div>
                </li>

                <li>
                    <span class="dot dot-red" aria-hidden="true"></span>
                    <div class="act_text">
                        <div class="act_main">Container <strong>C567</strong> delayed</div>
                        <div class="act_sub">Issue: Documentation</div>
                    </div>
                </li>
            </ul>
        </aside>
    </section>

    <section class="charts_row">
        <!-- Gate-In vs Gate-Out Trend -->
        <div class="chart_card animate__animated animate__fadeInUp" style="animation-delay: .2s;">
            <h3 class="chart_title">Weekly Gate Movement</h3>
            <canvas class="chart" data-type="line" data-labels='["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]'
                data-datasets='[
                { "label":"Gate In", "data":[50,42,38,60,55,47,52]},
                { "label":"Gate Out", "data":[30,28,34,45,40,32,36]}
            ]'>
            </canvas>
        </div>

        <!-- Yard Occupancy Trend -->
        <div class="chart_card animate__animated animate__fadeInUp" style="animation-delay: .28s;">
            <h3 class="chart_title">Yard Occupancy Trend (%)</h3>
            <canvas class="chart" data-type="bar" data-labels='["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]'
                data-data='[72, 75, 78, 82, 80, 77, 79]'>
            </canvas>
        </div>

        <!-- Container Category Distribution -->
        <div class="chart_card animate__animated animate__fadeInUp" style="animation-delay: .36s;">
            <h3 class="chart_title">Container Category Breakdown</h3>
            <canvas class="chart" data-type="polarArea" data-labels='["Laden","Empty","Import","Export"]'
                data-data='[45, 22, 18, 15]'>
            </canvas>
        </div>
    </section>

</div>